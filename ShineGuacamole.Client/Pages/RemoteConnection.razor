@using Microsoft.AspNetCore.Authorization
@using ShineGuacamole.Client.Shared
@using ShineGuacamole.Shared
@using ShineGuacamole.Client.Components

@attribute [Route(AppRoutes.RemoteConnection)];
@attribute [Authorize]

@rendermode RenderMode.InteractiveWebAssembly

@inherits ShineComponentBase<RemoteConnection>

<PageView PageTitle="Remote Connection" PageActions="@PageActions">
    @if (!_initialized)
    {
        <LoadingComponent />
    }
    else if (string.IsNullOrEmpty(ConnectionId))
    {
        <MudAlert>Something went wrong! Please go to the <MudLink Href="@AppRoutes.Connections">@nameof(AppRoutes.Connections)</MudLink> page and select a connection.</MudAlert>
    }
    else
    {
        <MudStack AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Spacing="3">
            <MudPaper>
                <div @ref="_display" class="display-wrapper relative"></div>
            </MudPaper>
        </MudStack>
    }
</PageView>